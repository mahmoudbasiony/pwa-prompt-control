"use strict";function _asyncToGenerator(e){return function(){var i=e.apply(this,arguments);return new Promise(function(n,o){return function t(e,r){try{var s=i[e](r),a=s.value}catch(e){return void o(e)}if(!s.done)return Promise.resolve(a).then(function(e){t("next",e)},function(e){t("throw",e)});n(a)}("next")})}}!function(_){_(document).ready(function(){var e,t=reviewshake_widgets_params.state,r=t.tab,s=t.source_name,a=t.source_url,n=t.google_place_id;console.log(t),r&&"setup"===r&&s&&a&&t.account_status&&t.source_status&&("pending"===t.account_status||"on_hold"===t.account_status||"pending"===t.source_status)&&(r=(e=_("#create_review_source_form")).data("account-exists"),t=t.sec_to_sleep,console.log("Waiting"+t+" seconds"),G("reviewshake-widgets-setup-wrap",e),j(s,a,n,e,r,t))}),_(document).on("change",".review-sources",function(e){var t=_(this).find("option:selected").data("placeholder-url");"google"===_(this).find("option:selected").val()?(_(this).closest(".review-sources-row").find(".review-sources-url-column").hide(),_(this).closest(".review-sources-row").find(".review-sources-url-column.google-places-select").show()):(_(this).closest(".review-sources-row").find(".review-sources-url-column").show(),_(this).closest(".review-sources-row").find(".review-sources-url-column.google-places-select").hide(),_(this).closest(".review-sources-row").find('input[type="text"].review-sources-url').attr("placeholder",t))}),_(document).ready(function(){g()}),_(document).on("submit","#create_review_source_form",function(e){e.preventDefault();var t=_(this),r=t.find('input[name="source_url"]').val(),s=t.find('select[name="source_name"] option:selected').val().toLowerCase(),a=t.data("account-exists"),n=(parseInt(t.attr("data-review-source-id")),"");"google"===s&&(r=t.find('select[name="source_url"] option:selected').text(),n=t.find('select[name="source_url"] option:selected').val());e=!1;if(t.find(".error").remove(),s.length<=0&&(t.find(".review-sources").after('<span class="error">'+reviewshake_widgets_params.translations.required+"</span"),e=!0),(r.length<=0||"google"===s&&(null==n||n.length<=0))&&(t.find(".error").remove(),t.find(".review-sources-url-column").append('<span class="error">'+reviewshake_widgets_params.translations.required+"</span"),e=!0),e)return!1;G("reviewshake-widgets-setup-wrap",t),j(s,r,n,t,a)}),_(document).on("click",".delete-review-source",function(e){e.preventDefault();var t=_(this).closest(".review-sources-row"),e=t.data("review-source-id"),e=parseInt(e.replace("rs",""));confirm(reviewshake_widgets_params.translations.confirm_delete)&&(G("reviewshake-widgets-setup-wrap",t),O(e,t))}),_(document).on("click","#upgrade-setup-link",function(e){e.preventDefault();var t=_(this),e=t.attr("href");window.open(e,"_blank");e={action:"reviewshake_renders_review_source_form",nonce:reviewshake_widgets_params.nonce};w(e).then(function(e){e.success&&e.hasOwnProperty("data")&&e.data.hasOwnProperty("form")&&(e=e.data.form,t.closest(".review-sources-upgrade-table").hide(),t.closest(".reviewshake-widgets-review-sources-container").append(e),_(".create-review-source-form").attr("data-requires-upgrade","1"))})}),_(document).on("click",".delete-widget",function(e){e.preventDefault();var t=_(this).closest(".reviewshake-widgets-widget"),r=_(this).closest(".widget-actions").attr("data-version"),e=t.attr("data-widget-id");confirm(reviewshake_widgets_params.translations.confirm_delete)&&(G("reviewshake-widgets-setup-wrap",t),P(e,t,r))}),_(document).on("click",".widget_min_star_rating .star_rating",function(e){_(".star_rating").removeClass("selected");for(var t=[],r=_(this).data("star-rate"),s=1;s<r;s++)t.push(s);t=JSON.stringify(t),_(this).addClass("selected"),_(this).closest(".widget_min_star_rating").find('input[name="ex_star_rating"]').val(t)}),_(document).on("click",".widget_v2_min_star_rating .star_rating",function(e){_(".star_rating").removeClass("selected");var t=_(this).data("star-rate");_(this).addClass("selected"),_(this).closest(".widget_v2_min_star_rating").find('input[name="min_star_rating"]').val(t)}),_(document).on("submit","#create_widget_form",function(e){e.preventDefault();var t=_(this),r=parseInt(t.attr("data-widget-id")),s=t.find('input[name="name"]').val(),a=t.find('select[name="widget_type"] option:selected').val(),e=!1;if(t.find(".error").remove(),s.length<=0&&(t.find('input[name="name"]').after('<span class="error">'+reviewshake_widgets_params.translations.required+"</span"),e=!0),a.length<=0&&(t.find('select[name="widget_type"]').after('<span class="error">'+reviewshake_widgets_params.translations.required+"</span"),e=!0),e)return _("html, body").animate({scrollTop:_(".error").first().offset().top-70},800),!1;e=new FormData(t[0]),e=Object.fromEntries(e.entries());console.log(e),r?(r=parseInt(r),e.id=r,k(t,e)):y(t,e)}),_(document).on("submit","#create_widget_v2_form",function(e){e.preventDefault();var t=_(this),r=parseInt(t.attr("data-widget-id")),s=t.find('input[name="name"]').val(),a=t.find('select[name="widget_type"] option:selected').val(),e=!1;if(t.find(".error").remove(),s.length<=0&&(t.find('input[name="name"]').after('<span class="error">'+reviewshake_widgets_params.translations.required+"</span"),e=!0),a.length<=0&&(t.find('select[name="widget_type"]').after('<span class="error">'+reviewshake_widgets_params.translations.required+"</span"),e=!0),e)return _("html, body").animate({scrollTop:_(".error").first().offset().top-70},800),!1;e=new FormData(t[0]),e=Object.fromEntries(e.entries());console.log(e),r?(r=parseInt(r),e.id=r,b(t,e)):x(t,e)}),_(document).on("click",".add-new-widget, .edit-widget",function(e){e.preventDefault();e=_(this).closest(".reviewshake-widgets-widget"),e=e.attr("data-widget-id")?e.attr("data-widget-id"):0,e={action:"reviewshake_renders_widget_form",nonce:reviewshake_widgets_params.nonce,widget_id:e};f(e).then(function(e){e.success&&e.hasOwnProperty("data")&&e.data.hasOwnProperty("form")&&(e=e.data.form,_(".reviewshake-widgets-setup-wrap").remove(),postscribe("#reviewshake-widgets-setup",e),_("html, body").animate({scrollTop:_("#reviewshake-widgets").offset().top-30},200),_(".color_field").wpColorPicker())})}),_(document).on("submit","#connect_account_form",function(e){e.preventDefault();var t=_(this),r=t.find('input[name="subdomain"]').val(),s=t.find('input[name="api_key"]').val(),e=!1;if(t.find(".error").remove(),r.length<=0&&(t.find('input[name="subdomain"]').after('<span class="error">'+reviewshake_widgets_params.translations.required+"</span"),e=!0),s.length<=0&&(t.find('input[name="api_key"]').after('<span class="error">'+reviewshake_widgets_params.translations.required+"</span"),e=!0),e)return!1;confirm(reviewshake_widgets_params.translations.another_account)&&(G("reviewshake-widgets-account",t),m(r,s))}),_(document).on("click",".connect-another-account",function(e){e.preventDefault();e=reviewshake_widgets_params.newAccountForm;_(".reviewshake-widgets-account-wrap").replaceWith(e)}),_(document).on("click","#claim-account",function(e){e.preventDefault(),_(this).closest(".account-links-wrap").hide(),_(this).closest(".claim-account-wrap").find(".claiming-in-progress-wrap").show();e=_(this).data("href");window.open(e,"_blank")}),_(document).on("change",'.widgets-version-wrap input[name="reviewshake_widgets_widgets_version"]',function(e){var t=_(this).val(),t={action:"reviewshake_save_widgets_version",nonce:reviewshake_widgets_params.nonce,version:t};C(t).then(function(e){e.success&&(_(".widgets-version-wrap .version-loader").hide(),_('.widgets-version-wrap input[name="reviewshake_widgets_widgets_version"]').removeAttr("disabled"),console.log(e))})}),_(document).ready(function(){_(".color_field").wpColorPicker()}),_(document).on("click",".popup-close",function(e){I(),e.preventDefault()});var t,r,s,a,n,o,i,c,d,p,u,e,l,w=(t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,e.prev=1,e.next=4,_.ajax({url:reviewshake_widgets_params.ajax_url,type:"POST",data:t});case 4:return r=e.sent,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}},e,void 0,[[1,8]])})),function(e){return t.apply(this,arguments)}),g=function(){_(".review-sources-row .google-places-select select").select2({ajax:{url:reviewshake_widgets_params.ajax_url,dataType:"json",delay:100,data:function(e){return{q:e.term,action:"reviewshake_google_places_predictions",nonce:reviewshake_widgets_params.nonce,input:e.term}},processResults:function(e,t){return{results:e.data}},cache:!0},placeholder:reviewshake_widgets_params.translations.google_places_placeholder,language:{noResults:function(){return reviewshake_widgets_params.translations.no_places_found}},allowClear:!0,minimumInputLength:1,templateResult:v,templateSelection:h})},v=function(e){if(e.loading)return e.text;var t=_("<div class='select2-result-places clearfix'><div class='select2-result-places__meta'><div class='select2-result-places__title'></div></div></div>");return t.find(".select2-result-places__title").text(e.text),"reviewshake_powered_by_google"===e.id&&t.find(".select2-result-places__title").append('<img src="'+e.image_url+'" />'),t},h=function(e){return e.text||e.description},m=(r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(reviewshake_widgets_params.site_url+"/wp-json/reviewshake/v1/account/"+r+"/"+t,{method:"GET",headers:{"content-type":"application/json","X-WP-Nonce":reviewshake_widgets_params.wp_rest_nonce}});case 2:return s=e.sent,e.next=5,s.json();case 5:(s=e.sent).hasOwnProperty("data")&&s.data.hasOwnProperty("attributes")&&(s=s.html,_(".reviewshake-widgets-account").replaceWith(s)),N();case 8:case"end":return e.stop()}},e,void 0)})),function(e,t){return r.apply(this,arguments)}),f=(s=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,e.prev=1,e.next=4,_.ajax({url:reviewshake_widgets_params.ajax_url,type:"POST",data:t});case 4:return r=e.sent,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}},e,void 0,[[1,8]])})),function(e){return s.apply(this,arguments)}),k=(a=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var s,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S(),a=r.id,e.next=4,fetch(reviewshake_widgets_params.site_url+"/wp-json/reviewshake/v1/widgets/"+a,{method:"PUT",headers:{"content-type":"application/json","X-WP-Nonce":reviewshake_widgets_params.wp_rest_nonce},body:JSON.stringify(r)});case 4:return s=e.sent,e.next=7,s.json();case 7:n=e.sent,console.log(n),n.hasOwnProperty("status")&&200===n.status&&(a=n.embed+"?v="+Date.now(),postscribe("#widget_live_preview",'<script src="'+a+'"><\/script>',{done:function(){console.log("done"),D()}})),!s.ok&&n.hasOwnProperty("message")&&n.hasOwnProperty("message")&&(a=n.message,n=n.data.detail,W(a,n,!0,"error"));case 12:case"end":return e.stop()}},e,void 0)})),function(e,t){return a.apply(this,arguments)}),y=(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var s,a,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S(),e.next=3,fetch(reviewshake_widgets_params.site_url+"/wp-json/reviewshake/v1/widgets",{method:"POST",headers:{"content-type":"application/json","X-WP-Nonce":reviewshake_widgets_params.wp_rest_nonce},body:JSON.stringify(r)});case 3:return s=e.sent,e.next=6,s.json();case 6:o=e.sent,console.log(o),o.hasOwnProperty("status")&&200==o.status&&(a=o.id,t.attr("data-widget-id",a),n=o.embed+"?v="+Date.now(),postscribe("#widget_live_preview",'<script src="'+n+'"><\/script>',{done:function(){console.log("done"),D()}})),!s.ok&&o.hasOwnProperty("message")&&o.hasOwnProperty("data")&&(n=o.message,o=o.data.detail,W(n,o,!0,"error"));case 11:case"end":return e.stop()}},e,void 0)})),function(e,t){return n.apply(this,arguments)}),x=(o=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var s,a,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S(),e.next=3,fetch(reviewshake_widgets_params.site_url+"/wp-json/reviewshake/v2/widgets",{method:"POST",headers:{"content-type":"application/json","X-WP-Nonce":reviewshake_widgets_params.wp_rest_nonce},body:JSON.stringify(r)});case 3:return s=e.sent,e.next=6,s.json();case 6:i=e.sent,console.log(i),i.hasOwnProperty("rscode")&&200==i.rscode&&(a=i.data.id,n=i.data.attributes.widget_type,t.attr("data-widget-id",a),o=i.data.attributes.snippet_html,_("floating"===n?"#widget_type option:eq(1), #widget_type option:eq(2), #widget_type option:eq(3)":"#widget_type option:eq(0)").remove(),postscribe("#widget_live_preview",o,{done:function(){console.log("done"),D()}})),!s.ok&&i.hasOwnProperty("message")&&i.hasOwnProperty("data")&&(o=i.message,i=i.data.detail,W(o,i,!0,"error"));case 11:case"end":return e.stop()}},e,void 0)})),function(e,t){return o.apply(this,arguments)}),b=(i=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var s,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S(),a=r.id,e.next=4,fetch(reviewshake_widgets_params.site_url+"/wp-json/reviewshake/v2/widgets/"+a,{method:"PUT",headers:{"content-type":"application/json","X-WP-Nonce":reviewshake_widgets_params.wp_rest_nonce},body:JSON.stringify(r)});case 4:return s=e.sent,e.next=7,s.json();case 7:n=e.sent,console.log(n),n.hasOwnProperty("rscode")&&200===n.rscode&&(a=n.data.attributes.snippet_html,postscribe("#widget_live_preview",a,{done:function(){console.log("done"),D()}})),!s.ok&&n.hasOwnProperty("message")&&n.hasOwnProperty("message")&&(a=n.message,n=n.data.detail,W(a,n,!0,"error"));case 12:case"end":return e.stop()}},e,void 0)})),function(e,t){return i.apply(this,arguments)}),P=(c=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var s,a,n,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"v1";return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(reviewshake_widgets_params.site_url+"/wp-json/reviewshake/"+o+"/widgets/"+t,{method:"DELETE",headers:{"content-type":"application/json","X-WP-Nonce":reviewshake_widgets_params.wp_rest_nonce}});case 2:return s=e.sent,e.next=5,s.json();case 5:n=e.sent,s.ok&&n.deleted?(console.log("Widget deleted successfully"),a=n.html,_("#reviewshake-widgets-setup").remove(),postscribe("#reviewshake-tab-setup",a)):_(".reviewshake-widgets-setup-wrap").show(),_(".color_field").wpColorPicker(),g(),!s.ok&&n.hasOwnProperty("message")&&n.hasOwnProperty("data")&&(a=n.message,n=n.data.detail,W(a,n,!0,"error")),N();case 11:case"end":return e.stop()}},e,void 0)})),function(e,t){return c.apply(this,arguments)}),O=(d=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var s,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(reviewshake_widgets_params.site_url+"/wp-json/reviewshake/v1/review_sources/"+t,{method:"DELETE",headers:{"Content-Type":"application/json","X-WP-Nonce":reviewshake_widgets_params.wp_rest_nonce}});case 2:return s=e.sent,e.next=5,s.json();case 5:(n=e.sent).deleted?(console.log("Review source deleted successfully!"),a=n.html,_("#reviewshake-widgets-setup").remove(),postscribe("#reviewshake-tab-setup",a)):(console.log(n),_(".reviewshake-widgets-setup-wrap").show().find(r).remove(),!s.ok&&n.hasOwnProperty("message")&&n.hasOwnProperty("data")&&(a=n.message,n=n.data.detail,W(a,n,!0,"error"))),_(".color_field").wpColorPicker(),g(),N();case 10:case"end":return e.stop()}},e,void 0)})),function(e,t){return d.apply(this,arguments)}),j=(p=_asyncToGenerator(regeneratorRuntime.mark(function e(a,n,o,i,t){var r,c,d,s,p,u,l,w,v,h=5<arguments.length&&void 0!==arguments[5]?arguments[5]:20;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=parseInt(i.attr("data-sources-count")),c=i.attr("data-pricing-plan"),d=reviewshake_widgets_params.widgetsVersion,0===r&&""==t&&(i.addClass("first"),i.closest("#reviewshake-widgets").find(".creating-account-notice").show()),t.length<=0)return s={source:a,sourceUrl:n,googlePlaceId:o},e.next=8,fetch(reviewshake_widgets_params.site_url+"/wp-json/reviewshake/v1/account/",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":reviewshake_widgets_params.wp_rest_nonce},body:JSON.stringify(s)});e.next=22;break;case 8:return s=e.sent,e.next=11,s.json();case 11:return p=e.sent,console.log("beforeSleep"),e.next=15,new Promise(function(e){return""==t?setTimeout(e,1e3*h):e()});case 15:console.log("afterSleep"),v=p.data.attributes,u=p.data.links.account_domain,l=v.email,w=setInterval(_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(reviewshake_widgets_params.site_url+"/wp-json/reviewshake/v1/account/?"+new URLSearchParams({email:l}),{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":reviewshake_widgets_params.wp_rest_nonce}});case 2:return t=e.sent,e.next=5,t.json();case 5:if(!(t=e.sent).hasOwnProperty("data")||!t.data.hasOwnProperty("attributes")){e.next=36;break}if(clearInterval(w),s=t.data.attributes,t.data.id,t.data.type,r=s.api_key,u=s.account_domain,console.log("Get account created success"),console.log("before trial api"),""==c||"trial"===c)return e.next=18,fetch(reviewshake_widgets_params.site_url+"/wp-json/reviewshake/v1/account/"+r+"/"+u,{method:"PUT",headers:{"Content-Type":"application/json","X-WP-Nonce":reviewshake_widgets_params.wp_rest_nonce}});e.next=20;break;case 18:e.sent,console.log("Account get a free plan");case 20:return console.log("after trial api"),e.next=23,R(d);case 23:if((s=e.sent).hasOwnProperty("rscode")&&200===s.rscode)return s=s.hasOwnProperty("count")?parseInt(s.count):0,console.log("Widgets listed successfuly"),console.log("You have "+s+" of registered Widgets"),s={apikey:r,subdomain:u,source:a,sourceUrl:n,googlePlaceId:o},e.next=31,T(s,i);e.next=35;break;case 31:e.sent,_(".color_field").wpColorPicker(),g(),N();case 35:console.log("Account Domain "+u);case 36:case"end":return e.stop()}},e,void 0)})),5e3),e.next=33;break;case 22:return e.next=24,R(d);case 24:if((v=e.sent).hasOwnProperty("rscode")&&200===v.rscode)return v={apikey:"",subdomain:"",source:a,sourceUrl:n,googlePlaceId:o},e.next=29,T(v,i);e.next=33;break;case 29:e.sent,_(".color_field").wpColorPicker(),g(),N();case 33:case"end":return e.stop()}},e,void 0)})),function(e,t,r,s,a){return p.apply(this,arguments)}),T=(u=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var s,a,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(reviewshake_widgets_params.site_url+"/wp-json/reviewshake/v1/review_sources/",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":reviewshake_widgets_params.wp_rest_nonce},body:JSON.stringify(t)});case 2:return s=e.sent,e.next=5,s.json();case 5:i=e.sent,console.log(i),i.hasOwnProperty("rscode")&&200==i.rscode&&i.hasOwnProperty("html")?(console.log("Review source added successfully!"),o=i.html,a=reviewshake_widgets_params.translations.add_source_success.title,n=reviewshake_widgets_params.translations.add_source_success.message,W(a,n),setTimeout(q,3e3),_("#reviewshake-widgets-setup").remove(),postscribe("#reviewshake-tab-setup",o)):(_(".reviewshake-widgets-setup-wrap").show(),(o=r.attr("data-requires-upgrade"))&&"1"===o&&(r.remove(),_(".review-sources-upgrade-table").show()),!s.ok&&i.hasOwnProperty("message")&&i.hasOwnProperty("data")&&(o=i.message,i=i.data.detail,W(o,i,!0,"error")));case 8:case"end":return e.stop()}},e,void 0)})),function(e,t){return u.apply(this,arguments)}),R=(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"v2";return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(reviewshake_widgets_params.site_url+"/wp-json/reviewshake/"+r+"/widgets/",{method:"GET",headers:{"content-type":"application/json","X-WP-Nonce":reviewshake_widgets_params.wp_rest_nonce}});case 2:return t=e.sent,e.next=5,t.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}},e,void 0)})),function(){return e.apply(this,arguments)}),C=(l=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,e.prev=1,e.next=4,_.ajax({url:reviewshake_widgets_params.ajax_url,type:"POST",data:t,beforeSend:function(){_(".widgets-version-wrap .version-loader").show(),_('.widgets-version-wrap input[name="reviewshake_widgets_widgets_version"]').attr("disabled",!0)}});case 4:return r=e.sent,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}},e,void 0,[[1,8]])})),function(e){return l.apply(this,arguments)}),G=function(e,t){t.closest("#reviewshake-widgets").find(".loader").show(),_("."+e).hide()},N=function(){_(".loader").hide(),_(".creating-account-notice").hide()},S=function(){_("#save_preview_widget").attr("disabled",!0),_("#widget_live_preview").children().remove(),_("html, body").animate({scrollTop:_(".reviewshake-widgets-create-wrap").offset().top-45},800),_(".widget_preview_loader").show()},D=function(){_(".widget_preview_loader").hide(),_("#save_preview_widget").removeAttr("disabled"),_("#finish_widget").removeAttr("disabled")},W=function(e,t){var r,s,a,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"success",i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"";_(".reviewshake-popup-wrap").remove(),0===_(".reviewshake-popup-wrap").length&&(r=_("<div></div>").attr("class","reviewshake-popup-wrap "+i),s=_("<div></div>").attr("class","reviewshake-popup-box transform-in"),a=_("<a>&times;</a>").attr("class","close-btn popup-close").attr("href","#"),i=_("<h1>"+e+"</h2>").attr("class","popup-title"),e=_("<h2>"+t+"</h3>").attr("class","popup-message"),t=_('<img class="response " />').attr("src",reviewshake_widgets_params.successIcon),"error"===o&&(t=_('<img class="response " />').attr("src",reviewshake_widgets_params.errorIcon)),_(t).appendTo(s),_(i).appendTo(s),_(e).appendTo(s),n&&_(a).appendTo(s),_(s).appendTo(r),_("body").append(r),_(".reviewshake-popup-wrap").fadeIn(500))},I=function(){_(".reviewshake-popup-wrap").fadeOut(500),_(".reviewshake-popup-box").removeClass("transform-in").addClass("transform-out"),D(),N(),_("#finish_widget").attr("disabled",!0)},q=function(){_(".reviewshake-popup-wrap").fadeOut(500),_(".reviewshake-popup-box").removeClass("transform-in").addClass("transform-out")}}(jQuery);