"use strict";(a=>{a(document).ready(function(){a("#email_notifications").change(function(){a("#email_addresses").prop("disabled",!a(this).is(":checked"))}),a("#all_links, #set_number").change(function(){a("#number_of_links").prop("disabled",a("#all_links").is(":checked"))})});wpblc_broken_links_checker_params.nonce,wpblc_broken_links_checker_params.ajaxurl;a(document).on("click","#wpblc-manual-scan",function(e){e.preventDefault(),console.log("Manual scan started...");e=wpblc_broken_links_checker_params.nonce,wpblc_broken_links_checker_params.ajaxurl,e={action:"wpblc_broken_links_manual_scan",nonce:e};s(e).then(e=>{console.log(e)})}),a(document).on("click","#wpblc-mark-as-fixed.not-fixed",function(e){e.preventDefault(),console.log("Mark as fixed started...");var e=wpblc_broken_links_checker_params.nonce,s=a(this),e={action:"wpblc_broken_links_mark_as_fixed",nonce:e,link:s.data("link"),postId:s.data("post-id")};n(e).then(e=>{console.log(e),"object"==typeof e&&e.hasOwnProperty("success")&&e.success&&"boolean"==typeof e.data&&e.data&&(s.attr("title","Mark as Broken"),s.hasClass("fixed")?(s.removeClass("fixed").addClass("not-fixed").html("Mark as Fixed"),s.closest("tr").find(".column-type .status-type").removeClass("fixed").addClass("not-fixed").html("Broken")):(s.removeClass("not-fixed").addClass("fixed").html("Mark as Broken"),s.closest("tr").find(".column-type .status-type").html("Fixed").removeClass("not-fixed").addClass("fixed")))})}),a(document).on("click","#wpblc-mark-as-fixed.fixed",function(e){e.preventDefault(),console.log("Mark as broken started...");var e=wpblc_broken_links_checker_params.nonce,s=a(this),e={action:"wpblc_broken_links_mark_as_broken",nonce:e,link:s.data("link"),postId:s.data("post-id")};o(e).then(e=>{console.log(e),"object"==typeof e&&e.hasOwnProperty("success")&&e.success&&"boolean"==typeof e.data&&e.data&&(s.hasClass("fixed")?(s.removeClass("fixed").addClass("not-fixed").html("Mark as Fixed"),s.closest("tr").find(".column-type .status-type").removeClass("fixed").addClass("not-fixed").html("Broken")):(s.removeClass("not-fixed").addClass("fixed").html("Mark as Broken"),s.closest("tr").find(".column-type .status-type").removeClass("not-fixed").addClass("fixed").html("Fixed")))})});const o=async e=>{var s;try{return"object"==typeof(s=await a.ajax({url:wpblc_broken_links_checker_params.ajaxUrl,type:"POST",data:e,beforeSend:function(){console.log("Sending data..."),t("show")},complete:function(){console.log("Data sent."),t("hide")}}))&&s.hasOwnProperty("success")&&s.success||console.error("Error: AJAX request failed",s),s}catch(e){console.error("Error:",e.statusText)}},s=async e=>{var s;try{return"object"==typeof(s=await a.ajax({url:wpblc_broken_links_checker_params.ajaxUrl,type:"POST",data:e,beforeSend:function(){console.log("Sending data..."),t("show"),a(".wpblc-broken-links-checker-links-table").html("")},complete:function(){console.log("Data sent."),t("hide")}}))&&s.hasOwnProperty("success")&&s.success?"string"==typeof s.data?a(".wpblc-broken-links-checker-links-table").html(s.data):console.error("Error: Unexpected AJAX response",s):console.error("Error: AJAX request failed",s),s}catch(e){console.error("Error:",e.statusText)}},n=async e=>{var s;try{return"object"==typeof(s=await a.ajax({url:wpblc_broken_links_checker_params.ajaxUrl,type:"POST",data:e,beforeSend:function(){console.log("Sending data..."),t("show")},complete:function(){console.log("Data sent."),t("hide")}}))&&s.hasOwnProperty("success")&&s.success||console.error("Error: AJAX request failed",s),s}catch(e){console.error("Error:",e.statusText)}},t=e=>{var s=a(".wpblc-is-scanning");"show"===e?s.show():"hide"===e&&s.hide()}})(jQuery);